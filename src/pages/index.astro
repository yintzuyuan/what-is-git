---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout>
  <!-- ═══════════════════════════════════════════════════════════════
       序章：標題
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="intro">
    <div class="chapter__inner">
      <h1 class="chapter__title reveal-title glow-text">
        什麼是 Git？
      </h1>
      <p class="chapter__subtitle reveal reveal-delay-1">
        讓創意工作者「看懂」版本控制的心智模型
      </p>
      <div class="divider reveal reveal-delay-2"></div>
      <div class="chapter__body">
        <p class="reveal reveal-delay-3">
          Git 不是程式設計師的專屬工具。<br />
          它是<strong>創作流程</strong>的核心——無論你是設計師、字型師，還是藝術家。
        </p>
        <p class="reveal reveal-delay-4" style="margin-top: var(--space-xl); color: var(--text-ghost);">
          向下捲動，開始探索 ↓
        </p>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第一章：秩序的紮根 (Root)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch1-root">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第一章</span>
      <h2 class="chapter__title reveal-title">秩序的紮根</h2>
      <p class="chapter__subtitle reveal reveal-delay-1">Root</p>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          一切從這裡開始。<code>git init</code> 確立了<strong>邏輯的零點</strong>——
          你的專案從此有了「記憶」。
        </p>
        <p class="reveal reveal-delay-3">
          這不只是一個資料夾。<br />
          這是一個<strong>有時間感的空間</strong>。
        </p>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-4">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git init</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第二章：線性的累積 (Trunk)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch2-trunk">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第二章</span>
      <h2 class="chapter__title reveal-title">線性的累積</h2>
      <p class="chapter__subtitle reveal reveal-delay-1">Trunk</p>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          每一次 <code>commit</code>，都是一個有意義的<strong>存檔點</strong>。
        </p>
        <p class="reveal reveal-delay-3">
          時間在這裡是垂直的——<br />
          最舊的在下，最新的在上，像年輪一樣層層疊加。
        </p>

        <!-- 內嵌 callout -->
        <div class="inline-callout reveal reveal-delay-4">
          <i class="ph-fill ph-lightbulb inline-callout__icon"></i>
          <p>
            好的 commit 訊息回答的是「為什麼」，而非「做了什麼」。
          </p>
        </div>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-5">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git commit -m "訊息"</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第三章：維度的偏轉 (Branching)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch3-branch">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第三章</span>
      <h2 class="chapter__title reveal-title">維度的偏轉</h2>
      <p class="chapter__subtitle reveal reveal-delay-1">Branching</p>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          分支不是「複製」，而是<strong>平行宇宙</strong>。
        </p>
        <p class="reveal reveal-delay-3">
          你可以在這裡安全地嘗試，<br />
          不會破壞原本的世界。
        </p>
        <p class="reveal reveal-delay-4">
          這是<strong>非破壞性創作</strong>的核心概念。
        </p>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-5">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git checkout -b feature</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第四章：空間的共鳴 (Sync)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch4-sync">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第四章</span>
      <h2 class="chapter__title reveal-title">空間的共鳴</h2>
      <p class="chapter__subtitle reveal reveal-delay-1">Sync</p>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          <code>push</code> 是<strong>手動版的 Google Drive</strong>——<br />
          你決定何時備份，何時同步。
        </p>
        <p class="reveal reveal-delay-3">
          本地與遠端，兩個空間開始共鳴。<br />
          你的創作不再只存在於一台電腦上。
        </p>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-4">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git push origin main</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第五章：下一步要去哪 (Issue)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch5-issue">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第五章</span>
      <h2 class="chapter__title reveal-title">下一步要去哪</h2>
      <p class="chapter__subtitle reveal reveal-delay-1">Issue</p>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          Issue 就像在星圖上標記目的地——<br />
          「<strong>接下來我要往這裡走</strong>」。
        </p>

        <!-- 內嵌概念卡片 -->
        <div class="inline-card inline-card--issue reveal reveal-delay-3">
          <div class="inline-card__header">
            <i class="ph-fill ph-circle inline-card__icon"></i>
            <h3 class="inline-card__title">Issue</h3>
          </div>
          <p class="inline-card__body">
            「接下來要做什麼」的備忘錄
          </p>
        </div>

        <!-- 內嵌 callout -->
        <div class="inline-callout reveal reveal-delay-4">
          <i class="ph ph-paperclip inline-callout__icon"></i>
          <p>
            在開始動工前先開個 Issue，<br />
            讓未來的自己知道當時在想什麼。
          </p>
        </div>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-5">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">gh issue create</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第六章：匯流前的回望 (PR)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch6-pr">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第六章</span>
      <h2 class="chapter__title reveal-title">匯流前的回望</h2>
      <p class="chapter__subtitle reveal reveal-delay-1">Pull Request</p>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          分支走到這裡，準備匯入主線。<br />
          PR 讓你停下來看看：<strong>這段路走得如何？</strong>
        </p>

        <!-- 內嵌概念卡片 -->
        <div class="inline-card inline-card--pr reveal reveal-delay-3">
          <div class="inline-card__header">
            <i class="ph ph-git-pull-request inline-card__icon"></i>
            <h3 class="inline-card__title">Pull Request</h3>
          </div>
          <p class="inline-card__body">
            合併前的最後確認
          </p>
        </div>

        <!-- 內嵌 callout -->
        <div class="inline-callout reveal reveal-delay-4">
          <i class="ph ph-chat-circle inline-callout__icon"></i>
          <p>
            不是為了挑錯，<br />
            而是給自己一個喘息、回顧的機會。
          </p>
        </div>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-5">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">gh pr create</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第七章：邏輯的歸一 (Convergence)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch7-merge">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第七章</span>
      <h2 class="chapter__title reveal-title">邏輯的歸一</h2>
      <p class="chapter__subtitle reveal reveal-delay-1">Convergence</p>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          當兩條線交會，可能會產生<strong>衝突</strong>。
        </p>
        <p class="reveal reveal-delay-3">
          但衝突不是問題——<br />
          「<strong>決策</strong>」才是合併的本質。
        </p>
        <p class="reveal reveal-delay-4">
          選擇，然後繼續前進。
        </p>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-5">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git merge feature</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       結尾：下一步
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="next-steps">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">結語</span>
      <h2 class="chapter__title reveal-title gradient-text">下一步</h2>
      <div class="chapter__body">
        <p class="reveal reveal-delay-1">
          你已經建立了 Git 的<strong>心智模型</strong>。<br />
          現在，試著用它吧。
        </p>
        <div class="divider reveal reveal-delay-2"></div>
        <h3 class="reveal reveal-delay-3">推薦工具</h3>
        <ul class="tools-list reveal reveal-delay-4">
          <li>
            <strong>GitHub Desktop</strong>
            <span>— 最友善的圖形介面，適合入門</span>
          </li>
          <li>
            <strong>VSCode + GitLens</strong>
            <span>— 通用方案，編輯器內建 Git 整合</span>
          </li>
          <li>
            <strong>Fork</strong>
            <span>— 給想要更多控制的進階使用者</span>
          </li>
        </ul>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  import { initClipboard } from '../scripts/clipboard';

  // 初始化複製功能
  document.addEventListener('DOMContentLoaded', () => {
    initClipboard();
  });
</script>

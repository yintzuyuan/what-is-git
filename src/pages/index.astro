---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout>
  <!-- ═══════════════════════════════════════════════════════════════
       序章：標題
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="intro">
    <div class="chapter__inner">
      <h1 class="chapter__title reveal-title glow-text">
        什麼是 Git？
      </h1>
      <p class="chapter__subtitle reveal reveal-delay-1">
        讓創意工作者「看懂」版本控制的心智模型
      </p>
      <div class="divider reveal reveal-delay-2"></div>
      <div class="chapter__body">
        <p class="reveal reveal-delay-3">
          Git 不是程式設計師的專屬工具。<br />
          它是<strong>創作流程</strong>的核心——無論你是設計師、字型師，還是藝術家。
        </p>
        <p class="reveal reveal-delay-4" style="margin-top: var(--space-xl); color: var(--text-ghost);">
          向下捲動，開始探索 ↓
        </p>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第一章：秩序的紮根 (Root)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch1-root">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第一章</span>
      <h2 class="chapter__title reveal-title">
        <span class="chapter__title-en">init</span>
        <span class="chapter__title-zh">初始化</span>
      </h2>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          在專案資料夾執行 <code>git init</code>，<br />
          Git 就會開始追蹤這個資料夾的變化。
        </p>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-3">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git init</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第二章：線性的累積 (Trunk)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch2-trunk">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第二章</span>
      <h2 class="chapter__title reveal-title">
        <span class="chapter__title-en">commit</span>
        <span class="chapter__title-zh">提交</span>
      </h2>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          每一次 <code>commit</code> 都是一個存檔點，<br />
          搭配一段訊息說明這次改了什麼。
        </p>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-3">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git commit -m "訊息"</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>

        <!-- 範例 -->
        <div class="inline-callout reveal reveal-delay-4">
          <i class="ph-fill ph-lightbulb inline-callout__icon"></i>
          <p>
            範例：<code>git commit -m "fix: 修正標題字型大小"</code>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第三章：維度的偏轉 (Branching)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch3-branch">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第三章</span>
      <h2 class="chapter__title reveal-title">
        <span class="chapter__title-en">branch</span>
        <span class="chapter__title-zh">分支</span>
      </h2>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          建立分支，在獨立的空間嘗試新想法，<br />
          不會影響主線的穩定版本。
        </p>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-3">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git checkout -b 分支名稱</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>

        <!-- 範例 -->
        <div class="inline-callout reveal reveal-delay-4">
          <i class="ph-fill ph-lightbulb inline-callout__icon"></i>
          <p>
            範例：<code>git checkout -b add-dark-mode</code>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第四章：空間的共鳴 (Sync)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch4-sync">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第四章</span>
      <h2 class="chapter__title reveal-title">
        <span class="chapter__title-en">push</span>
        <span class="chapter__title-zh">推送</span>
      </h2>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          把本地的 commit 上傳到遠端伺服器，<br />
          作為備份，也方便與他人協作。
        </p>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-3">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git push origin main</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第五章：下一步要去哪 (Issue)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch5-issue">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第五章</span>
      <h2 class="chapter__title reveal-title">
        <span class="chapter__title-en">issue</span>
        <span class="chapter__title-zh">議題</span>
      </h2>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          用 issue 記錄待辦事項、回報問題、<br />
          或討論新功能。
        </p>

        <!-- 內嵌概念卡片 -->
        <div class="inline-card inline-card--issue reveal reveal-delay-3">
          <div class="inline-card__header">
            <i class="ph-fill ph-circle inline-card__icon"></i>
            <h3 class="inline-card__title">首頁載入太慢</h3>
          </div>
          <p class="inline-card__body">
            圖片沒有壓縮，需要優化
          </p>
        </div>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-4">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">gh issue create</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第六章：匯流前的回望 (PR)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch6-pr">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第六章</span>
      <h2 class="chapter__title reveal-title">
        <span class="chapter__title-en">pull request</span>
        <span class="chapter__title-zh">拉取請求</span>
      </h2>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          分支完成後，發起 pull request 請求合併，<br />
          讓自己或團隊成員審查變更。
        </p>

        <!-- 內嵌概念卡片 -->
        <div class="inline-card inline-card--pr reveal reveal-delay-3">
          <div class="inline-card__header">
            <i class="ph ph-git-pull-request inline-card__icon"></i>
            <h3 class="inline-card__title">新增深色模式</h3>
          </div>
          <p class="inline-card__body">
            add-dark-mode → main
          </p>
        </div>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-4">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">gh pr create</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       第七章：邏輯的歸一 (Convergence)
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="ch7-merge">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">第七章</span>
      <h2 class="chapter__title reveal-title">
        <span class="chapter__title-en">merge</span>
        <span class="chapter__title-zh">合併</span>
      </h2>
      <div class="chapter__body">
        <p class="reveal reveal-delay-2">
          審查通過後，將分支合併回主線。<br />
          如果有衝突，Git 會提示你手動解決。
        </p>

        <!-- CLI 區塊 -->
        <div class="cli-block reveal reveal-delay-3">
          <div class="cli-block__content">
            <span class="cli-block__prompt">$</span>
            <code class="cli-block__command">git merge 分支名稱</code>
          </div>
          <button class="cli-block__copy" type="button" aria-label="複製指令">
            <i class="ph ph-copy cli-block__copy-icon"></i>
            <span>複製</span>
          </button>
        </div>

        <!-- 範例 -->
        <div class="inline-callout reveal reveal-delay-4">
          <i class="ph-fill ph-lightbulb inline-callout__icon"></i>
          <p>
            範例：<code>git merge add-dark-mode</code>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
       結尾：下一步
       ═══════════════════════════════════════════════════════════════ -->
  <section class="chapter" id="next-steps">
    <div class="chapter__inner">
      <span class="chapter__eyebrow reveal">結語</span>
      <h2 class="chapter__title reveal-title gradient-text">下一步</h2>
      <div class="chapter__body">
        <p class="reveal reveal-delay-1">
          你已經建立了 Git 的<strong>心智模型</strong>。<br />
          現在，試著用它吧。
        </p>
        <div class="divider reveal reveal-delay-2"></div>
        <h3 class="reveal reveal-delay-3">推薦工具</h3>
        <ul class="tools-list reveal reveal-delay-4">
          <li>
            <strong>GitHub Desktop</strong>
            <span>— 最友善的圖形介面，適合入門</span>
          </li>
          <li>
            <strong>VSCode + GitLens</strong>
            <span>— 通用方案，編輯器內建 Git 整合</span>
          </li>
          <li>
            <strong>Fork</strong>
            <span>— 給想要更多控制的進階使用者</span>
          </li>
        </ul>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  import { initClipboard } from '../scripts/clipboard';

  // 初始化複製功能
  document.addEventListener('DOMContentLoaded', () => {
    initClipboard();
  });
</script>
